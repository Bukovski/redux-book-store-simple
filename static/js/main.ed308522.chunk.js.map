{"version":3,"sources":["components/modal/modal.jsx","actions/shopping-cart.action.js","constants/shopping-cart.constant.js","actions/book-list.action.js","constants/book-list.constant.js","context/bookstore-context.js","hoc/with-bookstore-service.js","components/indicators/error-indicator.jsx","components/indicators/loading-indicator.jsx","components/book-list-item/book-list-item.jsx","components/book-list/book-list.jsx","components/shop-header/index.js","components/shop-header/shop-header.jsx","components/modal-cart-table/modal-cart-table.jsx","containers/app/app.js","components/error-boundry/index.js","services/bookstore-api-fake.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["Modal","nextProps","nextState","show","this","props","children","handleClose","Fragment","className","style","opacity","visibility","onClick","Component","bookAddedToCart","bookId","type","payload","fetchBooks","bookstoreService","dispatch","getBooks","then","data","catch","err","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","WrappedContainer","ErrorIndicator","title","text","LoadingIndicator","BookListItem","book","subtitle","price","image","handleAddedToCart","src","alt","BookListContainer","books","loading","error","BookList","map","key","isbn13","connect","bookList","bindActionCreators","ShopHeader","shoppingCart","orderTotal","orderQuantity","handleClick","href","mapDispatchToProps","handleIncrease","handleDecrease","handleDelete","items","cartItems","totalCart","scope","item","idx","id","count","total","App","useState","showModal","setShowModal","toggleModal","role","ErrorBoundry","state","hasError","setState","BookstoreAPIFake","Promise","resolve","reject","setTimeout","Math","random","Error","updateBookList","action","undefined","priceToFloat","parseFloat","replace","updateOrder","quantity","find","itemIndex","findIndex","createCartItem","slice","updateCartItems","totalPrice","toFixed","updateCartItem","cartObj","orders","quantities","forEach","countOrderAndQuantity","updateShoppingCart","reducer","composeWithDevTools","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","store","next","console","group","log","getState","result","groupEnd","thunkMiddleware","composedEnhancers","applyMiddleware","createStore","bookstoreAPI","app","value","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ed308522.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport \"./modal.css\";\n\n\nclass Modal extends Component {\n  shouldComponentUpdate ( nextProps, nextState ) {\n    return nextProps.show !== this.props.show || nextProps.children !== this.props.children;\n  }\n  \n  render () {\n    const { show, children, handleClose } = this.props;\n    \n    return (\n      <React.Fragment>\n        <div\n          className=\"modal-custom__overlay\"\n          style={{\n            opacity: show ? \".5\" : \"0\",\n            visibility: show ? \"visible\" : \"hidden\"\n          }}\n          onClick={ handleClose }\n        />\n          <div\n            className=\"modal-custom\"\n            style={{\n              opacity: show ? \"1\" : \"0\",\n              visibility: show ? \"visible\" : \"hidden\"\n            }}\n          >\n          <span className=\"modal-custom__close\" onClick={ handleClose }>\n            <i className=\"modal-custom__img fa fa-close\" />\n          </span>\n            <div className=\"modal-custom__dialog\">\n              { children }\n            </div>\n          </div>\n      </React.Fragment>\n    )\n  }\n}\n\nModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  handleClose: PropTypes.func.isRequired\n};\n\n\nexport default Modal;","import { ALL_BOOKS_REMOVED_FROM_CART, BOOK_ADDED_TO_CART, BOOK_REMOVED_FROM_CART } from \"constants/shopping-cart.constant\";\n\n\nconst bookAddedToCart = (bookId) => {\n  return {\n    type: BOOK_ADDED_TO_CART,\n    payload: bookId\n  };\n};\n\nconst bookRemovedFromCart = (bookId) => {\n  return {\n    type: BOOK_REMOVED_FROM_CART,\n    payload: bookId\n  };\n};\n\nconst allBooksRemovedFromCart = (bookId) => {\n  return {\n    type: ALL_BOOKS_REMOVED_FROM_CART,\n    payload: bookId\n  };\n};\n\n\nexport {\n  bookAddedToCart,\n  bookRemovedFromCart,\n  allBooksRemovedFromCart\n};","export const BOOK_ADDED_TO_CART = \"BOOK_ADDED_TO_CART\";\nexport const BOOK_REMOVED_FROM_CART = \"BOOK_REMOVED_FROM_CART\";\nexport const ALL_BOOKS_REMOVED_FROM_CART = \"ALL_BOOKS_REMOVED_FROM_CART\";\n","import { FETCH_BOOKS_SUCCESS, FETCH_BOOKS_REQUEST, FETCH_BOOKS_FAILURE } from \"constants/book-list.constant\";\n\n\nconst booksRequested = () => {\n  return {\n    type: FETCH_BOOKS_REQUEST\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: FETCH_BOOKS_SUCCESS,\n    payload: newBooks\n  };\n};\n\nconst booksError = (error) => {\n  return {\n    type: FETCH_BOOKS_FAILURE,\n    payload: error\n  };\n};\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n  // Load data from server when page loading\n  dispatch(booksRequested());\n  \n  // get async data with server\n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n\n\nexport {\n  fetchBooks\n};\n","export const FETCH_BOOKS_REQUEST = \"FETCH_BOOKS_REQUEST\";\nexport const FETCH_BOOKS_SUCCESS = \"FETCH_BOOKS_SUCCESS\";\nexport const FETCH_BOOKS_FAILURE = \"FETCH_BOOKS_FAILURE\";\n\n","import React from 'react';\n\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer\n} = React.createContext(null);\n\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer\n};\n","import React from 'react';\nimport { BookstoreServiceConsumer } from 'context';\n\n\nconst withBookstoreService = (WrappedContainer) => (props) => (\n  <BookstoreServiceConsumer>\n    {\n      (bookstoreService) => {\n        return (<WrappedContainer\n          { ...props }\n          bookstoreService={ bookstoreService }\n        />);\n      }\n    }\n  </BookstoreServiceConsumer>\n);\n\n\nexport default withBookstoreService;\n","import React from 'react';\nimport './error-indicator.css';\n\n\nconst ErrorIndicator = ({ title = \"game over\", text = \"Please reload page\" }) => {\n  return <div className=\"error-indicator\">\n    <h1 className=\"error-indicator__title\">{ title }</h1>\n    <span className=\"error-indicator__text\">{ text }</span>\n  </div>\n};\n\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport './loading-indicator.css';\n\n\nconst LoadingIndicator = () => {\n  return <div className=\"cssload-loader\">\n    <div className=\"cssload-inner cssload-one\" />\n    <div className=\"cssload-inner cssload-two\" />\n    <div className=\"cssload-inner cssload-three\" />\n  </div>;\n};\n\n\nexport default LoadingIndicator;","import React from 'react';\nimport './book-list-item.css';\n\n\nconst BookListItem = (props) => {\n  const { book: { title, subtitle, price, image }, handleAddedToCart } = props;\n  \n  return (\n    <div className=\"book-list__item\">\n      <div className=\"book-list__img-wrap\">\n        <img\n          className=\"book-list__img\"\n          src={ image }\n          alt={ title }\n        />\n      </div>\n      <div className=\"book-list__detail\">\n        <div className=\"book-list__content\">\n          <h3 className=\"book-list__title\">{ title }</h3>\n          <p className=\"book-list__text\">{ subtitle }</p>\n          <span className=\"book-list__price\">{ price }</span>\n        </div>\n        <button\n          onClick={ handleAddedToCart}\n          className=\"book-list__to-cart btn btn-info\"\n        >\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookListItem;\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { bookAddedToCart } from \"actions/shopping-cart.action\";\nimport { fetchBooks } from \"actions/book-list.action\";\nimport withBookstoreService from \"hoc/with-bookstore-service\";\nimport { LoadingIndicator, ErrorIndicator } from \"components/indicators\";\nimport { BookListItem } from \"components/book-list-item\";\nimport \"./book-list.css\";\n\n\nclass BookListContainer extends Component {\n  componentDidMount() {\n    // get async data with server\n    this.props.fetchBooks();\n  }\n  \n  render() {\n    const { books, loading, error, handleAddedToCart } = this.props;\n    \n    if (loading) return <LoadingIndicator />;\n    if (error) return <ErrorIndicator\n      title=\"Sorry!\"\n      text=\"We have lost book data. But soon they will be found\"\n    />;\n  \n    return <BookList books={ books } handleAddedToCart={ handleAddedToCart }/>;\n  }\n}\n\nconst BookList = ({ books, handleAddedToCart }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => (\n          <li key={ book.isbn13 } className=\"book-list__card\">\n            <BookListItem\n              book={ book }\n              handleAddedToCart={ () => handleAddedToCart(book.isbn13) }\n            />\n          </li>\n        ))\n      }\n    </ul>\n  );\n};\n\n\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => {\n  return { books, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n  return bindActionCreators({\n    fetchBooks: fetchBooks(bookstoreService),\n    handleAddedToCart: bookAddedToCart\n  }, dispatch);\n};\n\n\nexport default withBookstoreService(\n  connect(mapStateToProps, mapDispatchToProps)(BookListContainer)\n);\n","import ShopHeader from './shop-header';\n\n\nexport default ShopHeader;\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport './shop-header.css';\n\n\nconst ShopHeader = ({ orderTotal, orderQuantity, handleClick }) => {\n  return (\n    <header\n      className=\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm\">\n      <a className=\"header-shop__logo mr-md-auto\" href=\"/\">Itbook store</a>\n      <span className=\"header-shop__cart\" onClick={ handleClick }>\n        <i className=\"header-shop__cart-icon fa fa-shopping-cart\" />\n        { orderQuantity } items ${ orderTotal }\n      </span>\n    </header>\n  );\n};\n\n\nconst mapStateToProps = ({ shoppingCart: { orderTotal, orderQuantity } }) => {\n  return { orderTotal, orderQuantity };\n};\n\n\nexport default connect(mapStateToProps)(ShopHeader)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bookAddedToCart, bookRemovedFromCart, allBooksRemovedFromCart } from \"actions/shopping-cart.action\";\nimport './modal-cart-table.css';\n\n\nconst ModalCartTable = ({ items, totalCart, handleIncrease, handleDecrease, handleDelete }) => {\n  const renderRow = (item, idx) => {\n    const { id, title, count, total } = item;\n    \n    return (\n      <tr key={ id }>\n        <td scope=\"row\">{ idx + 1 }</td>\n        <td>{ title }</td>\n        <td>{ count }</td>\n        <td>${ total }</td>\n        <td className=\"modal__wrap-btn\">\n          <button\n            className=\"btn btn-outline-danger btn-sm float-right\"\n            onClick={ () => handleDelete(id) }\n          >\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button\n            className=\"btn btn-outline-success btn-sm float-right\"\n            onClick={ () => handleIncrease(id) }\n          >\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            className=\"btn btn-outline-warning btn-sm float-right\"\n            onClick={ () => handleDecrease(id) }\n          >\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n\n  return (\n    <div className=\"modal__content\">\n      <table className=\"table\">\n        <thead>\n        <tr>\n          <th scope=\"col\">#</th>\n          <th scope=\"col\">Item</th>\n          <th scope=\"col\">Count</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Action</th>\n        </tr>\n        </thead>\n        <tbody>\n        { items.map(renderRow) }\n        </tbody>\n      </table>\n  \n      <div className=\"modal__total\">\n        Total: ${ totalCart }\n      </div>\n    </div>\n  );\n};\n\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => {\n  return {\n    items: cartItems,\n    totalCart: orderTotal\n  };\n};\n\nconst mapDispatchToProps = {\n  handleIncrease: bookAddedToCart,\n  handleDecrease: bookRemovedFromCart,\n  handleDelete: allBooksRemovedFromCart\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCartTable);\n","import React from 'react';\nimport { Modal } from \"components/modal\";\nimport { BookList } from \"components/book-list\";\nimport ShopHeader from \"components/shop-header\";\nimport { ModalCartTable } from \"components/modal-cart-table\";\nimport './app.css';\n\n\nfunction App () {\n  const [ showModal, setShowModal ] = React.useState(false);\n  \n  const toggleModal = () => setShowModal(!showModal);\n  \n  return (\n      <main role=\"main\" className=\"container\">\n        <ShopHeader handleClick={ toggleModal }/>\n  \n        <BookList />\n        \n        <Modal show={ showModal } handleClose={ toggleModal }>\n          <ModalCartTable />\n        </Modal>\n      </main>\n  );\n}\n\n\nexport default App;\n","import React, { Component } from 'react';\nimport { ErrorIndicator } from 'components/indicators';\n\n\nexport default class ErrorBoundry extends Component {\n  state = {\n    hasError: false\n  };\n  \n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n  \n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n    \n    return this.props.children;\n  }\n}\n","export default class BookstoreAPIFake {\n  data = [\n    {\n      \"title\": \"AI Blueprints\",\n      \"subtitle\": \"How to build and deploy AI business projects\",\n      \"isbn13\": \"9781788992879\",\n      \"price\": \"$31.99\",\n      \"image\": \"https://itbook.store/img/books/9781788992879.png\",\n      \"url\": \"https://itbook.store/books/9781788992879\"\n    },\n    {\n      \"title\": \"Data Analysis with Python\",\n      \"subtitle\": \"A Modern Approach\",\n      \"isbn13\": \"9781789950069\",\n      \"price\": \"$31.99\",\n      \"image\": \"https://itbook.store/img/books/9781789950069.png\",\n      \"url\": \"https://itbook.store/books/9781789950069\"\n    },\n    {\n      \"title\": \"Build Reactive Websites with RxJS\",\n      \"subtitle\": \"Master Observables and Wrangle Events\",\n      \"isbn13\": \"9781680502954\",\n      \"price\": \"$28.98\",\n      \"image\": \"https://itbook.store/img/books/9781680502954.png\",\n      \"url\": \"https://itbook.store/books/9781680502954\"\n    },\n    {\n      \"title\": \"Forge Your Future with Open Source\",\n      \"subtitle\": \"Build Your Skills. Build Your Network. Build the Future of Technology\",\n      \"isbn13\": \"9781680503012\",\n      \"price\": \"$26.18\",\n      \"image\": \"https://itbook.store/img/books/9781680503012.png\",\n      \"url\": \"https://itbook.store/books/9781680503012\"\n    },\n    {\n      \"title\": \"Xcode Treasures\",\n      \"subtitle\": \"Master the Tools to Design, Build, and Distribute Great Apps\",\n      \"isbn13\": \"9781680505863\",\n      \"price\": \"$22.03\",\n      \"image\": \"https://itbook.store/img/books/9781680505863.png\",\n      \"url\": \"https://itbook.store/books/9781680505863\"\n    },\n    {\n      \"title\": \"Learning C++ by Building Games with Unreal Engine 4, 2nd Edition\",\n      \"subtitle\": \"A beginner's guide to learning 3D game development with C++ and UE4\",\n      \"isbn13\": \"9781788476249\",\n      \"price\": \"$44.99\",\n      \"image\": \"https://itbook.store/img/books/9781788476249.png\",\n      \"url\": \"https://itbook.store/books/9781788476249\"\n    },\n    {\n      \"title\": \"Apache Kafka Quick Start Guide\",\n      \"subtitle\": \"Leverage Apache Kafka 2.0 to simplify real-time data processing for distributed applications\",\n      \"isbn13\": \"9781788997829\",\n      \"price\": \"$23.99\",\n      \"image\": \"https://itbook.store/img/books/9781788997829.png\",\n      \"url\": \"https://itbook.store/books/9781788997829\"\n    },\n    {\n      \"title\": \"Hands-On Dark Web Analysis\",\n      \"subtitle\": \"Learn what goes on in the Dark Web, and how to work with it\",\n      \"isbn13\": \"9781789133363\",\n      \"price\": \"$29.99\",\n      \"image\": \"https://itbook.store/img/books/9781789133363.png\",\n      \"url\": \"https://itbook.store/books/9781789133363\"\n    },\n    {\n      \"title\": \"CentOS Quick Start Guide\",\n      \"subtitle\": \"Get up and running with CentOS server administration\",\n      \"isbn13\": \"9781789344875\",\n      \"price\": \"$31.99\",\n      \"image\": \"https://itbook.store/img/books/9781789344875.png\",\n      \"url\": \"https://itbook.store/books/9781789344875\"\n    },\n    {\n      \"title\": \"Machine Learning with Apache Spark Quick Start Guide\",\n      \"subtitle\": \"Uncover patterns, derive actionable insights, and learn from big data using MLlib\",\n      \"isbn13\": \"9781789346565\",\n      \"price\": \"$29.99\",\n      \"image\": \"https://itbook.store/img/books/9781789346565.png\",\n      \"url\": \"https://itbook.store/books/9781789346565\"\n    }\n  ];\n  \n  getBooks() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        // random chance get error for test\n        if (Math.random() > 0.75) {\n          reject(new Error('Something bad happened'));\n        } else {\n          resolve(this.data);\n        }\n      }, 1000);\n    });\n  }\n}","import { FETCH_BOOKS_FAILURE, FETCH_BOOKS_REQUEST, FETCH_BOOKS_SUCCESS } from \"constants/book-list.constant\"\n\n\nconst updateBookList = (state, action) => {\n  // return initialState if state not exist sate\n  if (state === undefined) {\n    return {\n      books: [],\n      loading: true,\n      error: null\n    };\n  }\n  \n  switch (action.type) {\n    case FETCH_BOOKS_REQUEST:\n      return {\n        books: [],\n        loading: true,\n        error: null\n      };\n    \n    case FETCH_BOOKS_SUCCESS:\n      return {\n        books: action.payload,\n        loading: false,\n        error: null\n      };\n    \n    case FETCH_BOOKS_FAILURE:\n      return {\n        books: [],\n        loading: false,\n        error: action.payload\n      };\n    \n    default:\n      return state.bookList;  // get current bookList\n  }\n};\n\n\nexport default updateBookList;\n","import { BOOK_ADDED_TO_CART, BOOK_REMOVED_FROM_CART, ALL_BOOKS_REMOVED_FROM_CART } from \"constants/shopping-cart.constant\";\n\n\nconst priceToFloat = (price) => parseFloat(price.replace(/\\$/, \"\"));\n\nconst countOrderAndQuantity = (cartObj) => {\n  let orders = 0;\n  let quantities = 0;\n  \n  cartObj.forEach(({ total, count }) => {\n    orders += parseFloat(total);\n    quantities += count;\n  });\n  \n  return { orders, quantities }\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  // if count equals 0, remove product in basket\n  if (item.count === 0) {\n    return [\n      ...cartItems.slice(0, idx),\n      ...cartItems.slice(idx + 1)\n    ];\n  }\n  \n  // add new product on the basket. Don't need changed a count of product\n  if (idx === -1) return [ ...cartItems, item ];\n  \n  // update product on the basket and change a count of product\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ];\n};\n\nconst updateCartItem = (book, item = {}, quantity) => {\n  // get data from \"item\" and set default items\n  const {\n    id = book.isbn13,\n    count = 0,\n    title = book.title,\n    total = 0\n  } = item;\n  \n  const totalPrice = parseFloat(total) + quantity * priceToFloat(book.price);\n  \n  return {\n    id,\n    title,\n    count: count + quantity,\n    total: (totalPrice).toFixed(2)\n  };\n};\n\nconst updateOrder = (state, bookId, quantity) => {\n  const { bookList: { books }, shoppingCart: { cartItems }} = state;\n  \n  // find book in data list and get data object\n  const book = books.find(({ isbn13 }) => isbn13 === bookId);\n  // check if the book exists in the basket.\n  // If book exist in cart, return book object if not return -1\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n  // get object book from basket or \"undefined\" if the book was not found\n  const item = cartItems[ itemIndex ];\n  \n  const newItem = updateCartItem(book, item, quantity);\n  \n  const createCartItem = updateCartItems(cartItems, newItem, itemIndex);\n  const { orders, quantities } = countOrderAndQuantity(createCartItem);\n  \n  return {\n    cartItems: createCartItem,\n    orderTotal: orders.toFixed(2),\n    orderQuantity: quantities,\n  };\n};\n\n\nconst updateShoppingCart = (state, action) => {\n  // return initialState if state not exist sate\n  if (state === undefined) {\n    return {\n      cartItems: [],\n      orderTotal: 0,\n      orderQuantity: 0\n    }\n  }\n  \n  switch(action.type) {\n    case BOOK_ADDED_TO_CART:\n      return updateOrder(state, action.payload, 1);\n  \n    case BOOK_REMOVED_FROM_CART:\n      return updateOrder(state, action.payload, -1);\n  \n    case ALL_BOOKS_REMOVED_FROM_CART:\n      const item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload); // get a current product\n      // -item.count shod be less then item.count (5 => -5) and then remove from the cart\n      return updateOrder(state, action.payload, -item.count);\n  \n    default:\n      return state.shoppingCart;\n  }\n};\n\n\nexport default updateShoppingCart;\n","import updateBookList from './book-list';\nimport updateShoppingCart from './shopping-cart';\n\n\nconst reducer = (state, action) => {\n  return {\n    bookList: updateBookList(state, action),\n    shoppingCart: updateShoppingCart(state, action)\n  };\n};\n\n\nexport default reducer;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk'\nimport reducer from 'reducers/index';\n\n/*************** CUSTOM MIDDLEWARE ***************/\n\nconst loggerMiddleware = store => next => action => {\n  console.group(action.type);\n  \n  console.log('Before', store.getState());\n  const result = next(action);\n  console.log('After', store.getState());\n\n  console.groupEnd();\n  \n  return result\n};\n\n/**************************************************/\n\n\n// set Redux to browser\nconst composeWithDevTools =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst middlewares = [ loggerMiddleware, thunkMiddleware ];\nconst middlewareEnhancer = applyMiddleware(...middlewares);\nconst composedEnhancers = composeWithDevTools(middlewareEnhancer);\n\nconst store = createStore(reducer, composedEnhancers);\n\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\n\nimport { App } from 'containers/app';\nimport ErrorBoundry from \"components/error-boundry\";\nimport { BookstoreServiceProvider } from 'context';\nimport BookstoreAPIFake from \"services/bookstore-api-fake\";\nimport store from 'store';\n\n\nconst bookstoreAPI = new BookstoreAPIFake();\n\n\nconst app = (\n  <Provider store={ store }>\n    {\n      <ErrorBoundry>\n        <BookstoreServiceProvider value={ bookstoreAPI }>\n          <App />\n        </BookstoreServiceProvider>\n      </ErrorBoundry>\n    }\n  </Provider>\n);\n\n\nReactDOM.render(app, document.getElementById('root'));\n"],"sourceRoot":""}