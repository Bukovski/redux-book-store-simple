(this["webpackJsonpredux-book-store-simple"]=this["webpackJsonpredux-book-store-simple"]||[]).push([[0],{24:function(e,t,a){e.exports=a(45)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),i=a.n(r),s=a(2),l=a(19),c=(a(33),a(34),a(4)),u=a(5),d=a(8),m=a(7),b=a(9),p=(a(35),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.children,n=e.handleClose;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"modal-custom__overlay",style:{opacity:t?".5":"0",visibility:t?"visible":"hidden"},onClickCapture:n}),o.a.createElement("div",{className:"modal-custom",style:{opacity:t?"1":"0",visibility:t?"visible":"hidden"}},o.a.createElement("span",{className:"modal-custom__close",onClick:n},o.a.createElement("i",{className:"modal-custom__img fa fa-close"})),o.a.createElement("div",{className:"modal-custom__dialog"},a)))}}]),t}(n.Component)),h=a(1),E=function(){return{type:"BOOK_HIDDEN_CART"}},k=function(e){return{type:"BOOK_ADDED_TO_CART",payload:e}},f=function(e){return function(){return function(t){t({type:"FETCH_BOOKS_REQUEST"}),e.getBooks().then((function(e){return t({type:"FETCH_BOOKS_SUCCESS",payload:e})})).catch((function(e){return t({type:"FETCH_BOOKS_FAILURE",payload:e})}))}}},g=o.a.createContext(null),_=g.Provider,O=g.Consumer,v=function(e){return function(t){return o.a.createElement(O,null,(function(a){return o.a.createElement(e,Object.assign({},t,{bookstoreService:a}))}))}},C=(a(36),function(e){var t=e.title,a=void 0===t?"game over":t,n=e.text,r=void 0===n?"Please reload page":n;return o.a.createElement("div",{className:"error-indicator"},o.a.createElement("h1",{className:"error-indicator__title"},a),o.a.createElement("span",{className:"error-indicator__text"},r))}),y=(a(37),function(){return o.a.createElement("div",{className:"cssload-loader"},o.a.createElement("div",{className:"cssload-inner cssload-one"}),o.a.createElement("div",{className:"cssload-inner cssload-two"}),o.a.createElement("div",{className:"cssload-inner cssload-three"}))}),N=(a(38),function(e){var t=e.book,a=t.title,n=t.subtitle,r=t.price,i=t.image,s=e.handleAddedToCart;return o.a.createElement("div",{className:"book-list__item"},o.a.createElement("div",{className:"book-list__img-wrap"},o.a.createElement("img",{className:"book-list__img",src:i,alt:a})),o.a.createElement("div",{className:"book-list__detail"},o.a.createElement("div",{className:"book-list__content"},o.a.createElement("h3",{className:"book-list__title"},a),o.a.createElement("p",{className:"book-list__text"},n),o.a.createElement("span",{className:"book-list__price"},r)),o.a.createElement("button",{onClick:s,className:"book-list__to-cart btn btn-info"},"Add to cart")))}),w=(a(39),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.loading,n=e.error,r=e.handleAddedToCart;return a?o.a.createElement(y,null):n?o.a.createElement(C,{title:"Sorry!",text:"We have lost book data. But soon they will be found"}):o.a.createElement(T,{books:t,handleAddedToCart:r})}}]),t}(n.Component)),T=function(e){var t=e.books,a=e.handleAddedToCart;return o.a.createElement("ul",{className:"book-list"},t.map((function(e){return o.a.createElement("li",{key:e.isbn13,className:"book-list__card"},o.a.createElement(N,{book:e,handleAddedToCart:function(){return a(e.isbn13)}}))})))},S=v(Object(s.b)((function(e){var t=e.bookList;return{books:t.books,loading:t.loading,error:t.error}}),(function(e,t){var a=t.bookstoreService;return Object(h.b)({fetchBooks:f(a),handleAddedToCart:k},e)}))(w)),j=(a(40),{handleClick:E}),A=Object(s.b)((function(e){var t=e.shoppingCart;return{orderTotal:t.orderTotal,orderQuantity:t.orderQuantity}}),j)((function(e){var t=e.orderTotal,a=e.orderQuantity,n=e.handleClick;return o.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},o.a.createElement("a",{className:"header-shop__logo mr-md-auto",href:"/"},"Itbook store"),o.a.createElement("span",{className:"header-shop__cart",onClick:n},o.a.createElement("i",{className:"header-shop__cart-icon fa fa-shopping-cart"}),a," items $",t))})),D=(a(41),{handleIncrease:k,handleDecrease:function(e){return{type:"BOOK_REMOVED_FROM_CART",payload:e}},handleDelete:function(e){return{type:"ALL_BOOKS_REMOVED_FROM_CART",payload:e}}}),B=Object(s.b)((function(e){var t=e.shoppingCart,a=t.cartItems,n=t.orderTotal;return console.log(a,n),{items:a,totalCart:n}}),D)((function(e){var t=e.items,a=e.totalCart,r=e.handleIncrease,i=e.handleDecrease,s=e.handleDelete;return o.a.createElement("div",{className:"modal__content"},t.length?o.a.createElement(n.Fragment,null,o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Item"),o.a.createElement("th",{scope:"col"},"Count"),o.a.createElement("th",{scope:"col"},"Price"),o.a.createElement("th",{scope:"col"},"Action"))),o.a.createElement("tbody",null,t.map((function(e,t){var a=e.id,n=e.title,l=e.count,c=e.total;return o.a.createElement("tr",{key:a},o.a.createElement("td",{scope:"row"},t+1),o.a.createElement("td",null,n),o.a.createElement("td",null,l),o.a.createElement("td",null,"$",c),o.a.createElement("td",{className:"modal__wrap-btn"},o.a.createElement("button",{className:"btn btn-outline-danger btn-sm float-right",onClick:function(){return s(a)}},o.a.createElement("i",{className:"fa fa-trash-o"})),o.a.createElement("button",{className:"btn btn-outline-success btn-sm float-right",onClick:function(){return r(a)}},o.a.createElement("i",{className:"fa fa-plus-circle"})),o.a.createElement("button",{className:"btn btn-outline-warning btn-sm float-right",onClick:function(){return i(a)}},o.a.createElement("i",{className:"fa fa-minus-circle"}))))})))),o.a.createElement("div",{className:"modal__total"},"Total: $",a)):o.a.createElement("span",{className:"modal__empty"},"Your cart is empty"))}));a(42);var R={handleClick:E},F=Object(s.b)((function(e){return{hiddenCart:e.shoppingCart.hiddenCart}}),R)((function(e){var t=e.hiddenCart,a=e.handleClick;return o.a.createElement("main",{role:"main",className:"container"},o.a.createElement(A,null),o.a.createElement(S,null),o.a.createElement(p,{show:t,handleClose:a},o.a.createElement(B,null)))})),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(C,null):this.props.children}}]),t}(n.Component),L=function(){function e(){Object(c.a)(this,e),this.data=[{title:"AI Blueprints",subtitle:"How to build and deploy AI business projects",isbn13:"9781788992879",price:"$31.99",image:"https://itbook.store/img/books/9781788992879.png",url:"https://itbook.store/books/9781788992879"},{title:"Data Analysis with Python",subtitle:"A Modern Approach",isbn13:"9781789950069",price:"$31.99",image:"https://itbook.store/img/books/9781789950069.png",url:"https://itbook.store/books/9781789950069"},{title:"Build Reactive Websites with RxJS",subtitle:"Master Observables and Wrangle Events",isbn13:"9781680502954",price:"$28.98",image:"https://itbook.store/img/books/9781680502954.png",url:"https://itbook.store/books/9781680502954"},{title:"Forge Your Future with Open Source",subtitle:"Build Your Skills. Build Your Network. Build the Future of Technology",isbn13:"9781680503012",price:"$26.18",image:"https://itbook.store/img/books/9781680503012.png",url:"https://itbook.store/books/9781680503012"},{title:"Xcode Treasures",subtitle:"Master the Tools to Design, Build, and Distribute Great Apps",isbn13:"9781680505863",price:"$22.03",image:"https://itbook.store/img/books/9781680505863.png",url:"https://itbook.store/books/9781680505863"},{title:"Learning C++ by Building Games with Unreal Engine 4, 2nd Edition",subtitle:"A beginner's guide to learning 3D game development with C++ and UE4",isbn13:"9781788476249",price:"$44.99",image:"https://itbook.store/img/books/9781788476249.png",url:"https://itbook.store/books/9781788476249"},{title:"Apache Kafka Quick Start Guide",subtitle:"Leverage Apache Kafka 2.0 to simplify real-time data processing for distributed applications",isbn13:"9781788997829",price:"$23.99",image:"https://itbook.store/img/books/9781788997829.png",url:"https://itbook.store/books/9781788997829"},{title:"Hands-On Dark Web Analysis",subtitle:"Learn what goes on in the Dark Web, and how to work with it",isbn13:"9781789133363",price:"$29.99",image:"https://itbook.store/img/books/9781789133363.png",url:"https://itbook.store/books/9781789133363"},{title:"CentOS Quick Start Guide",subtitle:"Get up and running with CentOS server administration",isbn13:"9781789344875",price:"$31.99",image:"https://itbook.store/img/books/9781789344875.png",url:"https://itbook.store/books/9781789344875"},{title:"Machine Learning with Apache Spark Quick Start Guide",subtitle:"Uncover patterns, derive actionable insights, and learn from big data using MLlib",isbn13:"9781789346565",price:"$29.99",image:"https://itbook.store/img/books/9781789346565.png",url:"https://itbook.store/books/9781789346565"}]}return Object(u.a)(e,[{key:"getBooks",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){Math.random()>.75?a(new Error("Something bad happened")):t(e.data)}),1e3)}))}}]),e}(),M=a(20),x=a(21),K=a.n(x),$=a(12),U=a(22),H=a.n(U),Q=function(e,t){if(void 0===e)return{books:[],loading:!0,error:null};switch(t.type){case"FETCH_BOOKS_REQUEST":return{books:[],loading:!0,error:null};case"FETCH_BOOKS_SUCCESS":return{books:t.payload,loading:!1,error:null};case"FETCH_BOOKS_FAILURE":return{books:[],loading:!1,error:t.payload};default:return e.bookList}},P=a(23),G=a(10),V=function(e){return parseFloat(e.replace(/\$/,""))},W=function(e,t,a){var n=e.bookList.books,o=e.shoppingCart,r=o.hiddenCart,i=o.cartItems,s=n.find((function(e){return e.isbn13===t})),l=i.findIndex((function(e){return e.id===t})),c=function(e,t,a){return 0===t.count?[].concat(Object(G.a)(e.slice(0,a)),Object(G.a)(e.slice(a+1))):-1===a?[].concat(Object(G.a)(e),[t]):[].concat(Object(G.a)(e.slice(0,a)),[t],Object(G.a)(e.slice(a+1)))}(i,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=t.id,o=void 0===n?e.isbn13:n,r=t.count,i=void 0===r?0:r,s=t.title,l=void 0===s?e.title:s,c=t.total,u=void 0===c?0:c,d=parseFloat(u)+a*V(e.price);return{id:o,title:l,count:i+a,total:d.toFixed(2)}}(s,i[l],a),l),u=function(e){var t=0,a=0;return e.forEach((function(e){var n=e.total,o=e.count;t+=parseFloat(n),a+=o})),{orders:t,quantities:a}}(c),d=u.orders,m=u.quantities;return{hiddenCart:r,cartItems:c,orderTotal:d.toFixed(2),orderQuantity:m}},X=function(e,t){if(void 0===e)return{hiddenCart:!0,cartItems:[],orderTotal:0,orderQuantity:0};switch(t.type){case"BOOK_HIDDEN_CART":return Object(P.a)({},e.shoppingCart,{hiddenCart:!e.shoppingCart.hiddenCart});case"BOOK_ADDED_TO_CART":return W(e,t.payload,1);case"BOOK_REMOVED_FROM_CART":return W(e,t.payload,-1);case"ALL_BOOKS_REMOVED_FROM_CART":var a=e.shoppingCart.cartItems.find((function(e){return e.id===t.payload}));return W(e,t.payload,-a.count);default:return e.shoppingCart}},Y={key:"root-cart",storage:H.a,whitelist:["shoppingCart"]},J=Object($.a)(Y,(function(e,t){return{bookList:Q(e,t),shoppingCart:X(e,t)}})),q="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):h.d,z=[K.a,M.a],Z=q(h.a.apply(void 0,z)),ee=Object(h.e)(J,Z),te=Object($.b)(ee),ae=new L,ne=o.a.createElement(s.a,{store:ee},o.a.createElement(I,null,o.a.createElement(_,{value:ae},o.a.createElement(l.a,{persistor:te},o.a.createElement(F,null)))));i.a.render(ne,document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3348cf02.chunk.js.map