(this["webpackJsonpredux-book-store-simple"]=this["webpackJsonpredux-book-store-simple"]||[]).push([[0],{29:function(e,t,n){e.exports=n(52)},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(15),i=n.n(r),s=n(2),l=n(21),c=(n(38),n(39),n(4)),u=n(5),d=n(8),m=n(7),b=n(9),p=n(13),h=n(14);function f(){var e=Object(p.a)(["\n  display: inline-block;\n  padding: 23px 18px;\n  min-width: 425px;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  border-radius: 10px;\n  transform: translate(-50%,-50%);\n  margin: auto;\n  background-color: #fff;\n  transition: all .5s linear;\n  opacity: 1;\n  z-index: 30;\n  \n  ","\n"]);return f=function(){return e},e}function E(){var e=Object(p.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: #4c4c4c;\n  transition: all .5s linear;\n  opacity: .5;\n  z-index: 20;\n\n  \n  ","\n"]);return E=function(){return e},e}function k(){var e=Object(p.a)(["\n  opacity: 0;\n  visibility: hidden;\n"]);return k=function(){return e},e}function g(){var e=Object(p.a)(["\n  visibility: visible;\n"]);return g=function(){return e},e}var _=Object(h.a)(g()),O=Object(h.a)(k()),v=function(e){return e.show?_:O},C=h.b.div(E(),v),y=h.b.div(f(),v),w=(n(41),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.children,a=e.handleClose;return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{show:t,onClickCapture:a}),o.a.createElement(y,{show:t},o.a.createElement("span",{className:"modal-custom__close",onClick:a},o.a.createElement("i",{className:"modal-custom__img fa fa-close"})),o.a.createElement("div",{className:"modal-custom__dialog"},n)))}}]),t}(a.Component)),N=n(1),j=function(){return{type:"BOOK_HIDDEN_CART"}},T=function(e){return{type:"BOOK_ADDED_TO_CART",payload:e}},S=function(e){return function(){return function(t){t({type:"FETCH_BOOKS_REQUEST"}),e.getBooks().then((function(e){return t({type:"FETCH_BOOKS_SUCCESS",payload:e})})).catch((function(e){return t({type:"FETCH_BOOKS_FAILURE",payload:e})}))}}},A=o.a.createContext(null),D=A.Provider,B=A.Consumer,x=function(e){return function(t){return o.a.createElement(B,null,(function(n){return o.a.createElement(e,Object.assign({},t,{bookstoreService:n}))}))}},R=(n(42),function(e){var t=e.title,n=void 0===t?"game over":t,a=e.text,r=void 0===a?"Please reload page":a;return o.a.createElement("div",{className:"error-indicator"},o.a.createElement("h1",{className:"error-indicator__title"},n),o.a.createElement("span",{className:"error-indicator__text"},r))}),F=(n(43),function(){return o.a.createElement("div",{className:"cssload-loader"},o.a.createElement("div",{className:"cssload-inner cssload-one"}),o.a.createElement("div",{className:"cssload-inner cssload-two"}),o.a.createElement("div",{className:"cssload-inner cssload-three"}))}),I=(n(44),function(e){var t=e.book,n=t.title,a=t.subtitle,r=t.price,i=t.image,s=e.handleAddedToCart;return o.a.createElement("div",{className:"book-list__item"},o.a.createElement("div",{className:"book-list__img-wrap"},o.a.createElement("img",{className:"book-list__img",src:i,alt:n})),o.a.createElement("div",{className:"book-list__detail"},o.a.createElement("div",{className:"book-list__content"},o.a.createElement("h3",{className:"book-list__title"},n),o.a.createElement("p",{className:"book-list__text"},a),o.a.createElement("span",{className:"book-list__price"},r)),o.a.createElement("button",{onClick:s,className:"book-list__to-cart btn btn-info"},"Add to cart")))}),L=(n(45),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.loading,a=e.error,r=e.handleAddedToCart;return n?o.a.createElement(F,null):a?o.a.createElement(R,{title:"Sorry!",text:"We have lost book data. But soon they will be found"}):o.a.createElement(M,{books:t,handleAddedToCart:r})}}]),t}(a.Component)),M=function(e){var t=e.books,n=e.handleAddedToCart;return o.a.createElement("ul",{className:"book-list"},t.map((function(e){return o.a.createElement("li",{key:e.isbn13,className:"book-list__card"},o.a.createElement(I,{book:e,handleAddedToCart:function(){return n(e.isbn13)}}))})))},K=x(Object(s.b)((function(e){var t=e.bookList;return{books:t.books,loading:t.loading,error:t.error}}),(function(e,t){var n=t.bookstoreService;return Object(N.b)({fetchBooks:S(n),handleAddedToCart:T},e)}))(L)),$=(n(46),{handleClick:j}),U=Object(s.b)((function(e){var t=e.shoppingCart;return{orderTotal:t.orderTotal,orderQuantity:t.orderQuantity}}),$)((function(e){var t=e.orderTotal,n=e.orderQuantity,a=e.handleClick;return o.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},o.a.createElement("a",{className:"header-shop__logo mr-md-auto",href:"/"},"Itbook store"),o.a.createElement("span",{className:"header-shop__cart",onClick:a},o.a.createElement("i",{className:"header-shop__cart-icon fa fa-shopping-cart"}),n," items $",t))})),H=(n(47),{handleIncrease:T,handleDecrease:function(e){return{type:"BOOK_REMOVED_FROM_CART",payload:e}},handleDelete:function(e){return{type:"ALL_BOOKS_REMOVED_FROM_CART",payload:e}}}),Q=Object(s.b)((function(e){var t=e.shoppingCart,n=t.cartItems,a=t.orderTotal;return console.log(n,a),{items:n,totalCart:a}}),H)((function(e){var t=e.items,n=e.totalCart,r=e.handleIncrease,i=e.handleDecrease,s=e.handleDelete;return o.a.createElement("div",{className:"modal__content"},t.length?o.a.createElement(a.Fragment,null,o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Item"),o.a.createElement("th",{scope:"col"},"Count"),o.a.createElement("th",{scope:"col"},"Price"),o.a.createElement("th",{scope:"col"},"Action"))),o.a.createElement("tbody",null,t.map((function(e,t){var n=e.id,a=e.title,l=e.count,c=e.total;return o.a.createElement("tr",{key:n},o.a.createElement("td",{scope:"row"},t+1),o.a.createElement("td",null,a),o.a.createElement("td",null,l),o.a.createElement("td",null,"$",c),o.a.createElement("td",{className:"modal__wrap-btn"},o.a.createElement("button",{className:"btn btn-outline-danger btn-sm float-right",onClick:function(){return s(n)}},o.a.createElement("i",{className:"fa fa-trash-o"})),o.a.createElement("button",{className:"btn btn-outline-success btn-sm float-right",onClick:function(){return r(n)}},o.a.createElement("i",{className:"fa fa-plus-circle"})),o.a.createElement("button",{className:"btn btn-outline-warning btn-sm float-right",onClick:function(){return i(n)}},o.a.createElement("i",{className:"fa fa-minus-circle"}))))})))),o.a.createElement("div",{className:"modal__total"},"Total: $",n)):o.a.createElement("span",{className:"modal__empty"},"Your cart is empty"))}));n(48);var P={handleClick:j},G=Object(s.b)((function(e){return{hiddenCart:e.shoppingCart.hiddenCart}}),P)((function(e){var t=e.hiddenCart,n=e.handleClick;return o.a.createElement("main",{role:"main",className:"container"},o.a.createElement(U,null),o.a.createElement(K,null),o.a.createElement(w,{show:t,handleClose:n},o.a.createElement(Q,null)))})),V=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(R,null):this.props.children}}]),t}(a.Component),W=function(){function e(){Object(c.a)(this,e),this.data=[{title:"AI Blueprints",subtitle:"How to build and deploy AI business projects",isbn13:"9781788992879",price:"$31.99",image:"https://itbook.store/img/books/9781788992879.png",url:"https://itbook.store/books/9781788992879"},{title:"Data Analysis with Python",subtitle:"A Modern Approach",isbn13:"9781789950069",price:"$31.99",image:"https://itbook.store/img/books/9781789950069.png",url:"https://itbook.store/books/9781789950069"},{title:"Build Reactive Websites with RxJS",subtitle:"Master Observables and Wrangle Events",isbn13:"9781680502954",price:"$28.98",image:"https://itbook.store/img/books/9781680502954.png",url:"https://itbook.store/books/9781680502954"},{title:"Forge Your Future with Open Source",subtitle:"Build Your Skills. Build Your Network. Build the Future of Technology",isbn13:"9781680503012",price:"$26.18",image:"https://itbook.store/img/books/9781680503012.png",url:"https://itbook.store/books/9781680503012"},{title:"Xcode Treasures",subtitle:"Master the Tools to Design, Build, and Distribute Great Apps",isbn13:"9781680505863",price:"$22.03",image:"https://itbook.store/img/books/9781680505863.png",url:"https://itbook.store/books/9781680505863"},{title:"Learning C++ by Building Games with Unreal Engine 4, 2nd Edition",subtitle:"A beginner's guide to learning 3D game development with C++ and UE4",isbn13:"9781788476249",price:"$44.99",image:"https://itbook.store/img/books/9781788476249.png",url:"https://itbook.store/books/9781788476249"},{title:"Apache Kafka Quick Start Guide",subtitle:"Leverage Apache Kafka 2.0 to simplify real-time data processing for distributed applications",isbn13:"9781788997829",price:"$23.99",image:"https://itbook.store/img/books/9781788997829.png",url:"https://itbook.store/books/9781788997829"},{title:"Hands-On Dark Web Analysis",subtitle:"Learn what goes on in the Dark Web, and how to work with it",isbn13:"9781789133363",price:"$29.99",image:"https://itbook.store/img/books/9781789133363.png",url:"https://itbook.store/books/9781789133363"},{title:"CentOS Quick Start Guide",subtitle:"Get up and running with CentOS server administration",isbn13:"9781789344875",price:"$31.99",image:"https://itbook.store/img/books/9781789344875.png",url:"https://itbook.store/books/9781789344875"},{title:"Machine Learning with Apache Spark Quick Start Guide",subtitle:"Uncover patterns, derive actionable insights, and learn from big data using MLlib",isbn13:"9781789346565",price:"$29.99",image:"https://itbook.store/img/books/9781789346565.png",url:"https://itbook.store/books/9781789346565"}]}return Object(u.a)(e,[{key:"getBooks",value:function(){var e=this;return new Promise((function(t,n){setTimeout((function(){Math.random()>.75?n(new Error("Something bad happened")):t(e.data)}),1e3)}))}}]),e}(),X=n(25),Y=(n(49),n(16)),J=n(26),q=n.n(J),z=function(e,t){if(void 0===e)return{books:[],loading:!0,error:null};switch(t.type){case"FETCH_BOOKS_REQUEST":return{books:[],loading:!0,error:null};case"FETCH_BOOKS_SUCCESS":return{books:t.payload,loading:!1,error:null};case"FETCH_BOOKS_FAILURE":return{books:[],loading:!1,error:t.payload};default:return e.bookList}},Z=n(27),ee=n(11),te=function(e){return parseFloat(e.replace(/\$/,""))},ne=function(e,t,n){var a=e.bookList.books,o=e.shoppingCart,r=o.hiddenCart,i=o.cartItems,s=a.find((function(e){return e.isbn13===t})),l=i.findIndex((function(e){return e.id===t})),c=function(e,t,n){return 0===t.count?[].concat(Object(ee.a)(e.slice(0,n)),Object(ee.a)(e.slice(n+1))):-1===n?[].concat(Object(ee.a)(e),[t]):[].concat(Object(ee.a)(e.slice(0,n)),[t],Object(ee.a)(e.slice(n+1)))}(i,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=t.id,o=void 0===a?e.isbn13:a,r=t.count,i=void 0===r?0:r,s=t.title,l=void 0===s?e.title:s,c=t.total,u=void 0===c?0:c,d=parseFloat(u)+n*te(e.price);return{id:o,title:l,count:i+n,total:d.toFixed(2)}}(s,i[l],n),l),u=function(e){var t=0,n=0;return e.forEach((function(e){var a=e.total,o=e.count;t+=parseFloat(a),n+=o})),{orders:t,quantities:n}}(c),d=u.orders,m=u.quantities;return{hiddenCart:r,cartItems:c,orderTotal:d.toFixed(2),orderQuantity:m}},ae=function(e,t){if(void 0===e)return{hiddenCart:!0,cartItems:[],orderTotal:0,orderQuantity:0};switch(t.type){case"BOOK_HIDDEN_CART":return Object(Z.a)({},e.shoppingCart,{hiddenCart:!e.shoppingCart.hiddenCart});case"BOOK_ADDED_TO_CART":return ne(e,t.payload,1);case"BOOK_REMOVED_FROM_CART":return ne(e,t.payload,-1);case"ALL_BOOKS_REMOVED_FROM_CART":var n=e.shoppingCart.cartItems.find((function(e){return e.id===t.payload}));return ne(e,t.payload,-n.count);default:return e.shoppingCart}},oe={key:"root-cart",storage:q.a,whitelist:["shoppingCart"]},re=Object(Y.a)(oe,(function(e,t){return{bookList:z(e,t),shoppingCart:ae(e,t)}})),ie="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):N.d,se=[X.a];var le=ie(N.a.apply(void 0,se)),ce=Object(N.e)(re,le),ue=Object(Y.b)(ce),de=new W,me=o.a.createElement(s.a,{store:ce},o.a.createElement(V,null,o.a.createElement(D,{value:de},o.a.createElement(l.a,{persistor:ue},o.a.createElement(G,null)))));i.a.render(me,document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.34a97aae.chunk.js.map